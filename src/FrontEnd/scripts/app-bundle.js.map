{"version":3,"sources":["about.js","app.js","environment.js","form.js","home.js","main.js","navigation.js","helpers/data-configuration.js","helpers/input-data-file-specification.js","helpers/nav-element.js","helpers/workout-file-uploader.js","resources/index.js","value_converters/file-input-value-converter.js","value_converters/file-name-value-converter.js"],"names":["About","configuraton","content","title","http","configure","config","withBaseUrl","apiUrl","activate","that","fetch","then","response","json","description","App","configureRouter","router","map","route","name","moduleId","message","activePage","SetActive","pageName","debug","testing","toastr","FileInput","file","undefined","pick","$event","$","srcElement","siblings","click","Form","of","controller","workoutFileUploader","person","Person","fileInputs","_controller","isDragover","_defineValidationRules","_initDropTarget","addFileInput","push","removeFile","index","findIndex","n","splice","submit","validate","result","length","files","fileInput","postFileAjax","alert","fail","err","error","validateTrigger","blur","_dropFileHandler","e","preventDefault","originalEvent","dataTransfer","fileSpecification","isSatifiedBy","document","on","stopPropagation","bind","sex","weight","age","Sex","KilogramsWeight","Age","ensure","required","minLength","matches","Home","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","setRoot","Navigation","home","about","form","_active","changeActive","navElement","deactivate","DataConfiguration","InputDataFileSpecification","_expectedExtencions","type","_isOfRequiredType","_hasRequiredExtenction","indexOf","endsWith","ex","NavElement","_isActive","WorkoutFileUploader","configuration","eventAggregator","data","FormData","deferred","jQuery","Deferred","append","prop","x","ajax","url","contentType","processData","success","Blob","documentElement","outerHTML","saveAs","resolve","xhr","status","reject","FileInputValueConverter","fromView","fileList","FileNameValueConverter","toView"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {HttpClient} from 'aurelia-fetch-client';\r\nimport {inject} from 'aurelia-framework';\r\nimport {DataConfiguration} from 'helpers/data-configuration';\r\n\r\n@inject(DataConfiguration)\r\nexport class About {\r\n    constructor(configuraton) {\r\n        this.content = \"\";\r\n        this.title = \"\";\r\n\r\n        this.http = new HttpClient().configure(config => {\r\n            config.withBaseUrl(configuraton.apiUrl);\r\n        });\r\n    }\r\n\r\n    activate() {\r\n        var that = this;\r\n        this.http.fetch('/api/StaticPage/about')\r\n            .then(response => response.json())\r\n            .then(content => {\r\n                that.title= content.title;\r\n                that.content = content.description;\r\n            });\r\n    }\r\n\r\n}","import {computedFrom} from 'aurelia-framework';\r\n\r\nexport class App {\r\n    configureRouter(config, router) {\r\n        this.router = router;\r\n        config.title = 'Single workout';\r\n        config.map([\r\n          { route: '', name: 'home', moduleId: 'home' },\r\n          { route: '/about', name: 'about', moduleId: 'about' },\r\n          { route: '/form', name: 'form', moduleId: 'form' }\r\n        ]);\r\n    }\r\n\r\n    constructor() {\r\n        this.message = 'Hello World!';\r\n        this.name = \"name\";\r\n        this.activePage = 'home';\r\n    }\r\n    \r\n    @computedFrom(\"activePage\")\r\n    get Active() {\r\n        return this.activePage;\r\n    }\r\n\r\n    SetActive(pageName) {\r\n        this.activePage = pageName;\r\n        return true;\r\n    }\r\n}\r\n\r\n","export default {\r\n  debug: true,\r\n  testing: true\r\n};\r\n","import {inject, NewInstance} from 'aurelia-framework';\r\nimport {ValidationController, ValidationRules, validateTrigger} from 'aurelia-validation';\r\nimport {HttpClient, json} from 'aurelia-fetch-client';\r\nimport {WorkoutFileUploader} from 'helpers/workout-file-uploader';\r\nimport {InputDataFileSpecification} from 'helpers/input-data-file-specification';\r\nimport * as toastr from 'toastr/toastr';\r\n\r\nclass FileInput {\r\n    constructor(file = undefined) {\r\n        this.file = file;\r\n    }\r\n\r\n        pick($event) {\r\n            $($event.srcElement).siblings(\"input[type='file']\").click();\r\n        }\r\n    }\r\n\r\n@inject(NewInstance.of(ValidationController), WorkoutFileUploader, toastr)\r\nexport class Form {\r\n        constructor(controller, workoutFileUploader, toastr) {\r\n            this.name = \"\";\r\n            this.person = new Person('FAMALE', 2, 3);\r\n            this.toastr = toastr;\r\n\r\n            this.fileInputs = [];\r\n            this._controller = controller;\r\n            this.workoutFileUploader = workoutFileUploader;\r\n            this.isDragover = false;\r\n\r\n            this._defineValidationRules();\r\n            this._initDropTarget();\r\n        }\r\n\r\n    addFileInput() {\r\n        this.fileInputs.push(new FileInput());\r\n    }\r\n\r\n    removeFile(file) {\r\n        let index = this.fileInputs.findIndex(n => n === file);\r\n        this.fileInputs.splice(index, 1);\r\n    }\r\n\r\n    submit() {\r\n        this._controller.validate().then((result) => {\r\n            if(result.length > 0){\r\n                return;\r\n            }\r\n            let files = this.fileInputs.map(fileInput => fileInput.file);\r\n            this.workoutFileUploader.postFileAjax(files, this.name, this.person)\r\n            .then(function(){\r\n                alert('sukces');\r\n            }).fail((err) => {\r\n                this.toastr.error(err);\r\n            });\r\n        });\r\n    }\r\n\r\n    _defineValidationRules() {\r\n        this._controller.validateTrigger = validateTrigger.blur;\r\n    }\r\n\r\n    _dropFileHandler(e) {\r\n        e.preventDefault();\r\n        if (e.originalEvent && e.originalEvent.dataTransfer) {\r\n            let fileSpecification = new InputDataFileSpecification();\r\n            for (let file in e.originalEvent.dataTransfer.files) {\r\n                file = e.originalEvent.dataTransfer.files[file];\r\n                if (fileSpecification.isSatifiedBy(file)) {\r\n                    this.fileInputs\r\n                        .push(new FileInput(file));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    _initDropTarget() {\r\n        let that = this;\r\n        $(document).on('drag dragstart dragend dragover dragenter dragleave drop', \r\n            '.upload-file-cnt', function(e) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            })\r\n            .on('dragover dragenter', '.upload-file-cnt', () => that.isDragover = true)\r\n            .on('dragleave dragend drop','.upload-file-cnt', () => that.isDragover = false)\r\n            .on('drop', '.upload-file-cnt', this._dropFileHandler.bind(this));\r\n    }\r\n}\r\n\r\nexport class Person{\r\n    Sex;\r\n    KilogramsWeight;\r\n    Age;\r\n    constructor(sex, weight, age) {\r\n        this.Sex = sex;\r\n        this.KilogramsWeight = weight;\r\n        this.Age = age;\r\n    }\r\n};\r\n\r\n    ValidationRules.ensure('name').required().minLength(3).on(Form);\r\n\r\n    ValidationRules\r\n        .ensure('Age').required().minLength(2)\r\n        .ensure('KilogramsWeight').required().minLength(2)\r\n        .ensure('Sex').required().matches(/MALE|FAMALE/)\r\n    .on(Person);\r\n","export class Home {\r\n    constructor() {\r\n        \r\n    }\r\n}","import environment from './environment';\r\n\r\n//Configure Bluebird Promises.\r\n//Note: You may want to use environment-specific configuration.\r\nPromise.config({\r\n  warnings: {\r\n    wForgottenReturn: false\r\n  }\r\n});\r\n\r\nexport function configure(aurelia) {\r\n    aurelia.use\r\n        .standardConfiguration()\r\n        .feature('resources');\r\n\r\n  if (environment.debug) {\r\n    aurelia.use.developmentLogging();\r\n  }\r\n\r\n  if (environment.testing) {\r\n      aurelia.use\r\n          .plugin('aurelia-testing')\r\n          .plugin('aurelia-validation');\r\n  }\r\n\r\n  aurelia.start().then(() => aurelia.setRoot());\r\n}\r\n","import {NavElement} from 'helpers/nav-element';\r\n\r\nexport class Navigation {\r\n    constructor() {\r\n        this.home = new NavElement(\"Home\");\r\n        this.about = new NavElement(\"About\");\r\n        this.form = new NavElement(\"Upload\");\r\n        this._active = this.home;\r\n    }\r\n\r\n    changeActive(navElement) {\r\n        this._active.deactivate();\r\n        navElement.activate();\r\n        this._active = navElement;\r\n        return true;\r\n    }\r\n}","export class DataConfiguration {\r\n    constructor() {\r\n        this.apiUrl = \"http://localhost:64973\";\r\n        //this.apiUrl = \"https://workoutcombiner.azurewebsites.net\";\r\n    }\r\n}","export class InputDataFileSpecification {\r\n    constructor() {\r\n        this._expectedExtencions = [\"tcx\", \"gpx\"];\r\n    }\r\n\r\n    isSatifiedBy(file) {\r\n        \r\n        if (file == null) {\r\n            return false;\r\n        }\r\n        \r\n        if (file.name === undefined && file.type === undefined) {\r\n            return false;\r\n        }\r\n\r\n        if (file.type && file.type !== \"\") {\r\n            return this._isOfRequiredType(file);\r\n        } else {\r\n            return this._hasRequiredExtenction(file);\r\n        }\r\n    }\r\n\r\n    _isOfRequiredType(file) {\r\n        return this._expectedExtencions.indexOf(file.type) !== -1;\r\n    }\r\n\r\n    _hasRequiredExtenction(file) {\r\n        return this._expectedExtencions.findIndex(ex => file.name.endsWith(ex)) !== -1;\r\n    }\r\n}","import {computedFrom} from 'aurelia-framework';\r\n\r\nexport class NavElement {\r\n    constructor(name) {\r\n        this.name = name;\r\n        this._isActive = false;\r\n    }\r\n\r\n    @computedFrom(\"_isActive\")\r\n    get isActiveClass() {\r\n        return this._isActive ? 'active' : '';\r\n    }\r\n\r\n    deactivate() {\r\n        this._isActive = false;\r\n    }\r\n\r\n    activate() {\r\n        this._isActive = true;\r\n    }\r\n}","import {inject} from 'aurelia-framework';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport {DataConfiguration} from 'helpers/data-configuration';\r\n\r\n@inject(DataConfiguration, EventAggregator)\r\nexport class WorkoutFileUploader {\r\n    constructor(configuration, eventAggregator) {\r\n        this.configuration = configuration;\r\n        this.eventAggregator = eventAggregator;\r\n    }\r\n\r\n    postFileAjax(files, name, person) {\r\n        let data = new FormData(),\r\n            that = this,\r\n            deferred = jQuery.Deferred();\r\n\r\n        data.append(\"model.Name\", name);\r\n\r\n        for(var prop in person){\r\n            data.append(\"model.\" + prop, person[prop]);\r\n        }\r\n\r\n        for (let x = 0; x < files.length; x++){\r\n            data.append(files[x].name, files[x]);\r\n        }\r\n\r\n\r\n        $.ajax({\r\n            type: \"post\",\r\n            url: this.configuration.apiUrl + '/api/Merge',\r\n            contentType: false,\r\n            processData: false,\r\n            data: data,\r\n            success: function(response) {\r\n                var data = new Blob([response.documentElement.outerHTML], {type: 'text/xml'});\r\n                saveAs(data, name + '.tcx');\r\n                deferred.resolve();\r\n            },\r\n            error: function (xhr, status, err) {\r\n                deferred.reject(err);\r\n            }\r\n        });\r\n\r\n        return deferred;\r\n    }\r\n}","export function configure(config) {\r\n  //config.globalResources([]);\r\n}\r\n","export class FileInputValueConverter{\r\n    fromView(fileList) {\r\n        if (fileList[0]) {\r\n            return fileList[0];\r\n        }\r\n    }\r\n}","export class FileNameValueConverter {\r\n    toView(file) {\r\n        if (file) {\r\n            return file.name;\r\n        }\r\n        return \"...\";\r\n    }\r\n}"],"sourceRoot":"../src"}